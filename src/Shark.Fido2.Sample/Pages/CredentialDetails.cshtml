@page
@model Shark.Fido2.Sample.Pages.CredentialsDetailsModel

<div class="main">
    <h1 class="mb-4 text-center">Credential Details</h1>

    @if (Model.CredentialId == null || Model.CredentialId.Length == 0)
    {
        <div id="credentials-details-container" class="section p-4">
            <div class="alert alert-warning">
                No public key credential details are available. Please sign in first.
            </div>
        </div>
    }
    else
    {
        <div id="credentials-details-container">
            <div class="details-grid">
                <div class="details-row">
                    <div class="details-label">Credential identifier</div>
                    <div class="details-value">
                        <code>@Convert.ToBase64String(Model.CredentialId!)</code>
                    </div>
                </div>
                <div class="details-row">
                    <div class="details-label">User handle</div>
                    <div class="details-value">
                        <code>@Convert.ToBase64String(Model.UserHandle)</code>
                    </div>
                </div>
                <div class="details-row">
                    <div class="details-label">Username</div>
                    <div class="details-value">
                        @Model.UserName
                    </div>
                </div>
                <div class="details-row">
                    <div class="details-label">Display name</div>
                    <div class="details-value">
                        @Model.UserDisplayName
                    </div>
                </div>
                <div class="details-row">
                    <div class="details-label">Sign count</div>
                    <div class="details-value">
                        @Model.SignCount
                    </div>
                </div>
                <div class="details-row">
                    <div class="details-label">Algorithm</div>
                    <div class="details-value">
                        @Model.Algorithm
                    </div>
                </div>
                @if (Model.Transports != null && Model.Transports.Any())
                {
                    <div class="details-row">
                        <div class="details-label">Transports</div>
                        <div class="details-value">
                            @string.Join(", ", Model.Transports)
                        </div>
                    </div>
                }
                <div class="details-row">
                    <div class="details-label">Time of creation (UTC)</div>
                    <div class="details-value">
                        @Model.CreatedAt
                    </div>
                </div>
                <div class="details-row">
                    <div class="details-label">Time of last update (UTC)</div>
                    <div class="details-value">
                        @Model.UpdatedAt
                    </div>
                </div>
                <div class="details-row">
                    <div class="details-label">Time of last use (UTC)</div>
                    <div class="details-value">
                        @Model.LastUsedAt
                    </div>
                </div>
            </div>
        </div>
    }
</div>